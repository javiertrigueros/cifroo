{% extends '::backend.html.twig' %}

{% block container %}
<div class="modal-load modal-load-fix">
    <div class="ar-container">
           <div class="item-swip cssload-piano">
            <div class="cssload-rect1"></div>
            <div class="cssload-rect2"></div>
            <div class="cssload-rect3"></div>
          </div>
     </div>
</div>

<div class="px-content">
        <div class="page-header">
            <div class="row">
                <div class="col-md-4 text-xs-center text-md-left text-nowrap">
                    <h1>
                        <i class=" page-header-icon fa fa-cog"></i>
                        <span class="hidden-xs hidden-sm">{% trans %}control_panel.title{% endtrans %} : </span> {% trans %}control_panel.menu_logo{% endtrans %}
                    </h1>
                </div>
          
                <!-- Spacer -->
                <div class="m-b-2 visible-xs visible-sm clearfix"></div>
            </div>
        </div>
                    
        <div class="panel">
            <div class="panel-heading">
                <div class="panel-title">
                
                </div>
            </div>
            <div class="panel-body">
                {% include '::feedback_messages.html.twig' %}
                
                        <div class="row">
                            <div id="alert-image-type-and-size-error" class="alert alert-danger hide alert-dark">            
                                <button aria-hidden="true" data-dismiss="alert" class="close cmd-close" type="button">×</button>
                                {% trans %}control_panel.label_logo_type_and_size_error{% endtrans %}
                            </div>
                            
                            <div id="alert-image-type-error" class="alert alert-danger hide alert-dark">            
                                <button aria-hidden="true" data-dismiss="alert" class="close cmd-close" type="button">×</button>
                                {% trans %}control_panel.label_logo_error{% endtrans %}
                            </div>
                            <div id="alert-image-size-error" class="alert alert-danger hide alert-dark">            
                                <button aria-hidden="true" data-dismiss="alert" class="close cmd-close" type="button">×</button>
                                {% trans %}control_panel.label_logo_size_error{% endtrans %}
                            </div>
                            <div class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
                                
                                <form action="{{ path('company_avatar') }}" enctype="multipart/form-data" method="post">
                                    
                                    <div class="row">

                                            <div class="col-md-4">
                                                <p>
                                                    <img class="profile-company-image-icon" style="width:100%;" src="{{ path('company_avatar_view') }}" />
                                                </p>
                                            </div>
                                        
                                            <div class="col-md-8">
                                                <p style="text-align: justify;">
                                                    <strong>
                                                        {% trans %}control_panel.label_logo_load{% endtrans %}:
                                                    </strong><br />
                                                    {% trans %}control_panel.label_logo_load_extra{% endtrans %}

                                                </p>
                                                <div class="btn-group">
                                                    <input class="avatar-data" id="avatar_data" name="avatar_data" type="hidden">
                                                    <label title="Upload image file" for="avatarInput" class="btn btn-success">
                                                        <input type="file" accept="image/gif,image/jpeg,image/jpg,image/png," name="avatar_file" id="avatarInput" class="hide">
                                                        {% trans %}control_panel.label_logo_select_file{% endtrans %}
                                                    </label>
                                                </div>
                                                <br /><br />
                                                
                                            </div>
                                            <div class="col-md-6">
                                                <div class="image-crop">
                                                    <img src="" style="display:none" />
                                                </div>
                                            </div>
                                        </div>
                   
                                </form>
                                                
                                 <form id="avatar-form" class="form-horizontal" action="{{ path('company_avatar') }}" enctype="multipart/form-data" method="post">
                                     {{ form_rest(form) }}
                                 </form>
                            </div>
                        </div>
            </div>
        </div>
    </div>
                         
                         
  <div class="modal inmodal fade" id="edit-image" tabindex="-1" role="dialog"  aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">
                            {% trans %}control_panel.close{% endtrans %}
                        </span>
                    </button>
                    <h4 class="modal-title">
                        {% trans %}control_panel.avatar_cut_and_resize{% endtrans %}
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="cropper-margin">
                        <div class="cropper-container">
                            <div class="cropper-img-container">
                             <img alt="Picture" class="profile-cropper" id="profile-cropper" src=""/>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <div style="float:left;width: 100%;">
                        <button type="button" class="btn btn-primary btn-outline cmd-zoom-minus" style="float:left;">
                            <i class="fa fa-search-minus"></i>&nbsp;
                            {% trans %}control_panel.zoom_minus{% endtrans %}
                        </button>
                        <button type="button" class="btn btn-primary btn-outline cmd-zoom-plus" style="float:left;">
                            <i class="fa fa-search-plus"></i>&nbsp;
                            {% trans %}control_panel.zoom_plus{% endtrans %}
                        </button>
                    
			<div style="float:right">
                            <button type="button" class="btn btn-white" data-dismiss="modal">
                                {% trans %}control_panel.cancel{% endtrans %}
                            </button>
                            <a class="btn btn-success btn-ok cmd-update-image">
                                {% trans %}control_panel.accept{% endtrans %}
                            </a>
			</div>
                    </div>
                    
                </div>
            </div>
        </div>
</div>
                            
<div id="modal-error" class="modal inmodal fade"  tabindex="-1" role="dialog"  aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">
                        {% trans %}users.modal_title{% endtrans %}
                    </h4>
                </div>
                <div class="modal-body">
                    <p>
                        {% trans %}users.modal_body{% endtrans %}
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-white" data-dismiss="modal">
                        {% trans %}cmd.cancel{% endtrans %}
                    </button>
                    <a class="btn btn-danger btn-ok cmd-accept-delete">
                        {% trans %}cmd.accept{% endtrans %}
                    </a>
                </div>
            </div>
        </div>
</div>
                    
<div class="modal fade" id="cropImagePop" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<h4 class="modal-title" id="myModalLabel">
                    {% trans %}control_panel.avatar_cut_and_resize{% endtrans %}	
                </h4>
            </div>
            <div class="modal-body">
		<div id="upload-demo" class="center-block"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">{% trans %}cmd.cancel{% endtrans %}</button>
                <button type="button" id="cropImageBtn" class="btn btn-primary">{% trans %}cmd.accept{% endtrans %}</button>
            </div>
        </div>
    </div>
</div>
                         
{% endblock %}


{% block stylesheets %}
    {{ parent() }}
    
    <link href="{{ asset('bundles/wall/css/animation_wait.css') }}" rel="stylesheet">
    <link href="{{ asset('bundles/user/js/bower_components/Croppie/croppie.css') }}" rel="stylesheet">
    <style>
    label.cabinet{
	display: block;
	cursor: pointer;
}

label.cabinet input.file{
	position: relative;
	height: 100%;
	width: auto;
	opacity: 0;
	-moz-opacity: 0;
  filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);
  margin-top:-30px;
}

#upload-demo{
  width: 350px;
  height: 350px;
  padding-bottom:25px;
}
    .tag-page-active
    {
        background-color: #ff434e !important;
    }
    
    .label, .badge
    {
       font-size: 100% !important;
    }
    
    </style>
{% endblock %}


{% block javascripts %}
    {{ parent() }}

    <script src="{{ asset('bundles/user/js/bower_components/Croppie/croppie.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/user/js/arquematics/arquematics.userImage.js') }}" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            
            arquematics.userImage.init({form: '#avatar-form',
                        input_file: '#avatarInput',
                        input_resize: '.image-control-avatar',
                        input_file_data: '.image-control-src',
                        image_icon: '.profile-company-image-icon',
                        width: 300, 
                        height: 90
                    });
        });
    </script>
{% endblock %}

